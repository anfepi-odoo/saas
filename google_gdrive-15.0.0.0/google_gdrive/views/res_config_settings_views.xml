<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="res_config_settings_view_form_google_gdrive" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.google.gdrive</field>
        <field name="model">res.config.settings</field>
        <field name="priority" eval="80"/>
        <field name="inherit_id" ref="base.res_config_settings_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//div[hasclass('settings')]" position="inside">
                <div class="app_settings_block" data-string="Google gdrive" string="Google gdrive" data-key="google_gdrive">
                    <div class="row mt16 o_settings_container" name="google_gdrive_setting_container">
                        <div class="col-12 col-lg-12 o_setting_box" title="Setup gdrive access token">
                            <div>

                                <div>
                                    <span class="o_form_label">Upload from client secrets file</span>
                                </div>
                                <field name="abp_json_secret_file"/>

                                <div>
                                    <span class="o_form_label">Credentials and access token</span>
                                </div>
                                <div attrs="{'invisible': ['|','|',('abp_json_secret_file', '=', False),('abp_credentials', '=', False),('abp_token', '=', False)]}">
                                    <field name="abp_credentials"/>
                                    <field name="abp_token"/>
                                    <i class="text-success fa fa-check"></i> &amp;nbsp; Credentials set
                                </div>

                               <div class="text-muted" attrs="{'invisible': ['|',('abp_credentials', '!=', False),('abp_token', '!=', False)]}">
                                    <a href="https://console.cloud.google.com/apis/dashboard" class="oe_link" target="_blank">
                                        <i class="fa fa-arrow-right"></i>1.Create Web App and enable Gdrive API
                                    </a>
                                    <a href="https://youtu.be/DFekou_Q660" class="oe_link" target="_blank">
                                        <i class="fa fa-arrow-right"></i>2.Upload json file and generate token (Youtube Tutorial)
                                    </a>
                                </div>

                                <button
                                attrs="{'invisible': ['|',('abp_credentials', '!=', False),('abp_token', '!=', False)]}"
                                type="object"
                                name="generate_credentials"
                                string="Generate access token and refresh token"
                                class="oe_link" />

                            </div>
                        </div>
                    </div>
                </div>
            </xpath>
        </field>
    </record>
</odoo>
